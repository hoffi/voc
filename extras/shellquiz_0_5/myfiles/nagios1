Frage;Frage2;Antwort;Antwort2
Welcher Benutzer muss fuer Nagios im Betriebssystem angelegt werden;;nagios;
Welche Gruppen muessen fuer Nagios im Betriebssystem angelegt werden;;nagios und nagcmd;
Wie wird unter Linux ein Benutzer angelegt;;useradd -m nagios;
Wie wird unter Linux eine Gruppe angelegt;;groupadd nagios;
Wie wird unter Linux ein Benutzer zu einer Gruppe hinzugefuegt;;usermod -a -G nagcmd nagios;
Welche Benutzer muessen der Gruppe nagcmd angehoeren;;nagios und www-run;
Wie wird Nagios installiert;;./configure --with-command-group=nagcmd && make && make install && make install-init && make install-config && make install-commandmode;
Wie werden die Nagios-Plugins installiert;;./configure --with-nagios-user=nagios --with-nagios-group=nagios && make && make install;
Wie wird das Webinterface konfiguriert;;make install-webconf && htpasswd2 -c /usr/local/nagios/etc/htpasswd.users nagios && service apache2 restart;
Was muss unter OS X fuer Nagios in der httpd.conf geaendert werden;;User und Group von "www" nach "nagios" und der ScriptAlias (Pfad zu den Nagios CGI-Scripte) gesetzt werden;
Wie wird der Apache2-Webserver unter OS X gestartet;;sudo ./apachectl start > /dev/null;
Was muss vor der Bearbeitung von Config-Dateien durchgefuehrt werden;;Ein Backup von den Apache2- und Nagios-Config-Dateien;
Wie kann der nagiosadmin zum superuser gemacht werden;;Durch anpassen der cgi.cfg;
Wie wird der Apache2-User "nagiosadmin" inklusive Passwort erstellt;;./htpasswd -c /etc/nagios/htpasswd.users nagiosadmin;
Mit welchem Kommando kann die Nagios-Konfiguration ueberprueft werden;;sudo /opt/local/bin/nagios -v /opt/local/etc/nagios/nagios.cfg;
Wie wird Nagios gestartet;;./nagios /etc/nagios/nagios.cfg;
Wie sende ich einem Prozess einen SIGTERM;;kill oder kill -15;
Wie sende ich einem Prozess einen SIGKILL;;kill -9;
Welches Kommando kann Prozesse durch Angabe des Prozessnamens killen;;killall;
Was bewirkt die Gruppe nagcmd;;Diese kann externe Befehle ueber das Web-Interface erteilen;
Wie wird der HTTP-Server neugestartet;;service apache2 restart;
Was muss unter Fedora durchgefuehrt werden, damit Nagios automatisch beim Systemstart gestartet wird;;chkconfig --add nagios && chkconfig nagios on;
Wie wird der Nagios-Service gestartet;;service nagios start;
Wie heisst die Hauptkonfigurationsdatei von nagios;;nagios.cfg;
Welche Aufgaben haben Objektdefinitionsdateien im Verzeichnis /etc/nagios/objects;;Diese werden genutzt, um Hosts, Services, Hostgruppen, Kontakte, Kontaktgruppen, Befehle usw. zu definieren. Hier wird festgelegt, welche Komponenten ueberwacht werden sollen und wie die Ueberwachung stattfinden soll. ;
Was wird benoetigt um Windows-Rechner zu ueberwachen;;Plugin check_nt auf dem Monitoring-Host und den NSClient++ auf dem Windows-Host;
Wie koennen Nagios-Daten automatisch in eine MySQL-DB geschrieben werden;;Mit Hilfe von den NDOUtils (Modul ndomod + Programm ndo2db);
Mit welcher Definition fuehrt Nagios ein Plugin aus;;check_command (check_command  check_http z.B.);
Wo befinden sich die Nagios-Plugins (Kommandos);;/libexec/nagios;
Wie testet man mit Hilfe eines Nagios-Plugins einen entfernten HTTP-Server;;./check_http -I 192.168.1.114;
Wie kann ich mit Hilfe vom ICMP-Plugin feststellen, ob ein Host erreichbar ist;;sudo ./check_icmp 192.168.1.114;
Was macht die define-Anweisung;;Objekt-Erzeugung;
Welches Attribut sorgt fuer das Erben von Attributen von anderen Objekten;;use;
Wo wird das Objekt "generic-service" definiert;;/etc/nagios/objects/templates.cfg;
Was sagt der Wert 0 beim Attribut "register" aus;;Das Objekt wird zu einem abstrakten Objekt (Template) und stellt damit keinen gueltigen Service dar, sondern kann die Attribute an andere Definitionen vererben.;
Was bewirkt das Attribut "hostgroups" mit dem Wert "HTTP Servers" in einer Host-Definition;;Eine Zuordnung von Services;
Welchen Wert muss das Attribut "address" enthalten;;IP-Adresse;
Was ist ein "authentifizierter Benutzer";;ist jemand, der sich dem Web-Server gegenueber mit Benutzer und Passwort authentifiziert hat und dem Zugang zum Nagios-Web-Interface gewaehrt wurde.;
Was ist ein "authentifizierter Kontakt";;ist ein authentifizierter Benutzer, dessen Benutzername mit dem Kurznamen einer Kontakt-Definition uebereinstimmt.;
Was bewirkt das Kommando "usermod -a -G root commander";;Zusaetzlich zur Primaergruppe soll der Benutzer zu einer anderen Gruppe zugewiesen werden;
Was bewirkt das Kommando "useradd -m testuser";;Neben der Erstellung des Benutzers wird auch gleich das Heimatverzeichnis erstellt, falls es nicht schon existiert.;
Was fuehrt Nagios im Hintergrund durch;;Host- und Service-Checks;
Der Nagios-Kern kann keine Host- und Service-Checks durchfuehren. Was benoetigt dieser um Host- und Service-Checks durchfuehren zu koennen;;Plugins (externe Programme);
Was wird oft zum Kompilieren von Software benoetigt;;gcc, make, autoconf und automake;
Welche Gruppen+Benutzer muessen fuer Nagios angelegt werden und wie muessen diese angelegt werden;;groupadd -g 9000 nagios && groupadd -g 9001 nagcmd && useradd -u 9000 -g nagios -G nagcmd -d /usr/local/nagios -c "Nagios Admin" nagios && usermod -a -G nagcmd www-run;
Was bewirkt das Kommando "usermod -a -G nagcmd www-run";;usermod manipuliert dank der Option -a -G den nagcmd-Eintrag in der Datei "/etc/group". Es wird also der User "www-run" zur Gruppe "nagcmd" hinzugefuegt;
Welcher Benutzer greift grundsaetzlich auf alle Nagios-CGI- und Nagios-HTML-Dateien zu;;Der Webuser (openSUSE/SLES: www-run, Debian/Ubuntu: www-data, Fedora: httpd);
Welcher Agent muss auf Windows installiert werden, damit die Dienste oder Attribute von dem Windows-Rechner ueberwacht werden koennen;;NSClient++;
Wozu dient die commands.cfg;;Fuer das korrekte Ausfuehren von Plugins (Kommandos mit benoetigten Optionen);
Wie teile ich Nagios mit, nach Windows-Objektdefinitionen zu schauen;;Hash-Zeichen (#) in der Hauptkonfigurationsdatei "nagios.cfg" vor "cfg_file=/usr/local/nagios/etc/objects/windows.cfg" entfernen;
Wie koennen weitere Server-Dienste vom Windows-Server ueberwacht werden;;Durch hinzufuegen weiterer Objekte (define service ...) inklusive Plugin-Aufrufe (check_command ...) z.B. check_http, check_ftp, check_smtp, check_pop usw. zur windows.cfg usw.;
Warum ist das Plugin "check_icmp" so wichtig;;Es prueft die Erreichbarkeit eines Rechners per "ping" und kommt als einziges Plugin sowohl als Service- als auch als Host-Check zum Einsatz. Funktioniert es nicht ordungsgemaess, arbeitet Nagios nicht mehr korrekt, da das System keine Service-Checks durchfuehrt, solange es einen Host als "down" einordnet.;
Warum muss das Kommando "chmod 4711 check_icmp" ausgefuehrt werden;;Damit das Plugin korrekt arbeitet, muss es wie das Programm "/bin/ping" als User "root" ausgefuehrt werden. Dafuer sorgt das SUID-Bit.;
Was bedeutet Flapping (Flattern);;Host oder Service wechseln zu oft den Status;
Welche Schritte sind noetig, wenn neue Host- und Service-Definitionen zu den Konfigurationsdateien hinzugefuegt wurden;;Konfiguration ueberpruefen (-v) und Nagios neustarten;
Wozu dient die Konfigurationsdatei "resource.cfg";;Zur Speicherung von Makros und Kennwoertern;
Warum enthaelt die "cgi.cfg" einen Verweis auf die "nagios.cfg";;Damit die CGIs wissen, wie Nagios konfiguriert wurde und wo die Objektdefinitionen gespeichert sind;
Was bewirkt die GD Library;;Eine dynamische Erzeugung und Manipulation von Grafiken. Diese wird bei den "statusmap"- und "trends"-CGIs angewendet.;
Welcher Parameter sorgt dafuer, dass alle Konfigurationsdateien, die auf ".cfg" enden in einem Verzeichnis (auch rekursiv) automatisch von Nagios eingebunden werden;;cfg_dir;
Europaeisches Datumsformat fuer Nagios setzen;;date_format=euro in der nagios.cfg setzen. Fuer das ISO- beziehungsweise DIN-Format muss der Wert iso8601 gesetzt werden;
Ein Restart nach Konfigurationsaenderungen ist nicht erforderlich. Was muss stattdessen durchgefuehrt werden;;/etc/init.d/nagios reload;
Was steckt hinter dem Kommando "check-host-alive";;Das Plugin "check_ping" oder das modernere "check_icmp".;
Was ist ein "SOFT state";;Wenn ein Service/Host nicht erreichbar ist, dann versucht Nagios lt . dem Wert des Parameters "max_check_attempts" den Check zu wiederholen. Der Wert liegt bei SMTP z.B. bei "3". Das heisst, dass der Test bis zu dreimal wiederholt wird. Nach den Wiederholungstests, stuft Nagios den Zustand als "HARD" ein.;
Was legt der Parameter "interval_length" fest;;Die Zeiteinheit in Sekunden wird festgelegt, auf die sich die Zeitangaeben in den Objekt-Definitionen (check_interval und retry_interval) beziehen. Wenn also in der "nagios.cfg" 60 Sekunden steht und in der Objekt-Definition bei "check_interval" ein Wert von 2 gesetzt ist dann bedeutet dies, dass alle 2 Minuten ein Check durchgefuehrt wird.;
